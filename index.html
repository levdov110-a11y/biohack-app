<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>מערכת גלישה חסויה</title>
</head>
<body>
    <input type="password" id="token" placeholder="GitHub Token">
    <input type="text" id="target" placeholder="כתובת אתר">
    <button onclick="requestSite()">גלוש בסודיות מוחלטת</button>
    <div id="status"></div>

    <script>
        async function requestSite() {
            const token = document.getElementById('token').value;
            const url = document.getElementById('target').value;
            document.getElementById('status').innerText = "שולח בקשה מוצפנת לגיטהאב...";

            // הפנייה היא לגיטהאב בלבד! רנדר לא מופיע כאן.
            await fetch('https://api.github.com/repos/levdov110-a11y/biohack-app/dispatches', {
                method: 'POST',
                headers: {
                    'Authorization': 'token ' + token,
                    'Accept': 'application/vnd.github.v3+json'
                },
                body: JSON.stringify({
                    event_type: 'go_fetch',
                    client_payload: { url: url }
                })
            });
            
            document.getElementById('status').innerText = "הבקשה עובדת בשרתי גיטהאב. המתן 30 שניות והתוצאה תופיע ב-Artifacts.";
        }
    </script>
</body>
</html>
